{% extends "base.html" %}
{% block content %}
<div class="row justify-content-center align-items-center" style="min-height: 70vh;">
  <div class="col-lg-5 col-md-7">
    <div class="glass-card p-4 p-md-5">
      <div class="text-center mb-4">
        <div class="mb-2">
          <i class="bi bi-shield-lock" style="font-size: 2.4rem; color: var(--brand);"></i>
        </div>
        <h3 class="fw-bold mb-0">Welcome back</h3>
        <p class="text-secondary mb-0">Sign in to continue</p>
      </div>
      <form method="POST" novalidate>
        {{ form.hidden_tag() }}
        <div class="input-group input-group-lg mb-3">
          <span class="input-group-text"><i class="bi bi-person"></i></span>
          {{ form.username(class="form-control", placeholder="Username") }}
        </div>
        <div class="input-group input-group-lg mb-3">
          <span class="input-group-text"><i class="bi bi-key"></i></span>
          {{ form.password(class="form-control", id="passwordField", placeholder="Password") }}
          <button class="btn btn-outline-secondary" type="button" id="togglePassword" tabindex="-1"><i class="bi bi-eye"></i></button>
        </div>
        {{ form.submit(class="btn btn-premium btn-lg w-100 mt-2") }}
      </form>
      <div class="d-flex justify-content-between align-items-center mt-3 small">
        <span class="text-secondary">Donâ€™t have an account?</span>
        <a class="fw-semibold" href="{{ url_for('auth.register') }}">Create one</a>
      </div>
    </div>
  </div>
</div>
<script>
  (function(){
    const btn = document.getElementById('togglePassword');
    const input = document.getElementById('passwordField');
    if (!btn || !input) return;
    btn.addEventListener('click', function(){
      const isText = input.getAttribute('type') === 'text';
      input.setAttribute('type', isText ? 'password' : 'text');
      const icon = btn.querySelector('i');
      if (icon) icon.className = isText ? 'bi bi-eye' : 'bi bi-eye-slash';
    });
  })();
</script>
{% endblock %}
